% Main book file for Kriptografi
\documentclass[12pt,a4paper]{book}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english,indonesian]{babel}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{geometry}
\geometry{margin=1in}
\usepackage{graphicx}
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue!60!black,
  citecolor=blue!60!black,
  urlcolor=blue!60!black,
  pdfauthor={Program Studi S1 Matematika, FMIPA, Universitas Bale Bandung},
  pdftitle={Buku Ajar Kriptografi}
}
\usepackage{csquotes}
\usepackage{subfiles}
\usepackage{setspace}
\onehalfspacing
\raggedbottom
\emergencystretch=2em
\pretolerance=1000 \tolerance=2000 \hyphenpenalty=5000 \exhyphenpenalty=5000
\Urlmuskip=0mu plus 1mu
\def\UrlBreaks{\do\/\do\-\do\_}

% Extras for figures, tables, and code listings used across chapters
\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning,fit,calc,matrix}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{listings}
\lstdefinestyle{code}{
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue!60!black}\bfseries,
  commentstyle=\color{gray!60},
  stringstyle=\color{green!50!black},
  showstringspaces=false,
  frame=single,
  breaklines=true
}
\lstset{style=code}

% Bibliography
\usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex}
% Bibliography localization and formatting tweaks
\DeclareLanguageMapping{indonesian}{english}
\ExecuteBibliographyOptions{date=year,urldate=iso}
\DefineBibliographyStrings{indonesian}{
  and = {dan},
  andothers = {dkk.},
  in = {dalam},
  pages = {hlm.},
  urlseen = {diakses}
}
\addbibresource{references/references.bib}

% Allow per-chapter compilation
% Each chapter file can be compiled standalone by setting \jobname

\title{Buku Ajar Kriptografi}
\author{Program Studi S1 Matematika\\Fakultas Matematika dan IPA\\Universitas Bale Bandung}
\date{\today}

\begin{document}
\frontmatter

% --- Custom Cover Page with University Logo ---
\newcommand{\logopath}{assets/logo_fak.jpg} % Place your logo file here (PNG/JPG/PDF)
\begin{titlepage}
\centering
\vspace*{1cm}
\IfFileExists{\logopath}{\includegraphics[width=4cm]{\logopath}}{\fbox{Logo Universitas Bale Bandung}}

\vspace{1.2cm}
{\LARGE Buku Ajar Kriptografi\\[0.3cm]}
{\large Program Studi S1 Matematika\\Fakultas Matematika dan IPA\\Universitas Bale Bandung}

\vfill
{\large \today}
\end{titlepage}

\tableofcontents
\listoffigures
\listoftables
\lstlistoflistings

\mainmatter
% Include chapters (also compilable as subfiles)
\subfile{chapters/ch01_pengantar}
\subfile{chapters/ch02_landasan_matematika}
\subfile{chapters/ch03_serangan}
\subfile{chapters/ch04_kriptografi_klasik}
\subfile{chapters/ch05_kriptografi_modern}
\subfile{chapters/ch06_review_cipher}
\subfile{chapters/ch07_kunci_publik}
\subfile{chapters/ch08_pembangkit_acak}
\subfile{chapters/ch09_fungsi_hash}
\subfile{chapters/ch10_ttd_digital}
\subfile{chapters/ch11_sertifikat_pki}
\subfile{chapters/ch12_protokol}
\subfile{chapters/ch13_manajemen_kunci}
\subfile{chapters/ch14_steganografi}

\backmatter
\printbibliography

\end{document}

